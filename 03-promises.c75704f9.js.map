{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAUA,MAAMC,EAAOC,SAASC,MAAM,GAC5BF,EAAKG,iBAAiB,UAEtB,SAA2BC,GACzBA,EAAMC,iBACN,MAAMC,EAAaF,EAAMG,OAAOC,SAASC,OAAOC,MAChD,IAAIC,EAAYC,OAAOR,EAAMG,OAAOC,SAASK,KAAKH,OAC9CI,EAAiBF,OAAOR,EAAMG,OAAOC,SAASO,MAAML,OAEtDJ,GACAK,GACAG,GACAR,EAAa,GACbK,EAAY,GACZG,EAAiB,EAEjBE,YAAW,KACT,IAAK,IAAIC,EAAI,EAAGA,EAAIX,EAAYW,GAAK,EACnCD,YAAW,MA1BnB,SAAuBE,EAAUH,GAC/B,MAAMI,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFI,EAAQ,CAAEL,SAAUA,EAAUH,MAAOA,IAChCS,EAAO,CAAEN,SAAUA,EAAUH,MAAOA,QAoC7CU,CAd6BR,EAAI,EAAGH,GAejCY,MAAK,EAACR,SAAEA,EAAQH,MAAEA,MACjBY,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAqBX,QAAiBH,UAE/De,OAAM,EAACZ,SAAEA,EAAQH,MAAEA,MAClBY,EAAA7B,GAAS8B,OAAOG,QAAQ,sBAAoBb,QAAeH,UAlBvDD,GAAkBH,IACjBA,EAAYM,KAEhBH,GAEHa,EAAA7B,GAAS8B,OAAOG,QACd,uDAIJ/B,EAAKgC","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position: position, delay: delay });\n    } else reject({ position: position, delay: delay });\n  });\n}\nconst form = document.forms[0];\nform.addEventListener('submit', callAmountPromise);\n//\nfunction callAmountPromise(event) {\n  event.preventDefault();\n  const formAmount = event.target.elements.amount.value;\n  let formDelay = Number(event.target.elements.step.value);\n  let formFirstDelay = Number(event.target.elements.delay.value);\n  if (\n    formAmount &&\n    formDelay &&\n    formFirstDelay &&\n    formAmount > 0 &&\n    formDelay > 0 &&\n    formFirstDelay > 0\n  ) {\n    setTimeout(() => {\n      for (let i = 0; i < formAmount; i += 1) {\n        setTimeout(() => {\n          upgradecreatePromise(i + 1, formFirstDelay);\n          formFirstDelay += formDelay;\n        }, formDelay * i);\n      }\n    }, formFirstDelay);\n  } else {\n    Notiflix.Notify.failure(\n      `❌ Заповніть усі рядки значеннями які більше за нуль`\n    );\n  }\n\n  form.reset();\n}\nfunction upgradecreatePromise(count, timeOut) {\n  createPromise(count, timeOut)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$form","document","forms","addEventListener","event","preventDefault","formAmount","target","elements","amount","value","formDelay","Number","step","formFirstDelay","delay","setTimeout","i","position","shouldResolve","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","catch","failure","reset"],"version":3,"file":"03-promises.c75704f9.js.map"}